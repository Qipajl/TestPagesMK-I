import{a0 as f,a3 as c,a1 as g,_ as y,f as R,a4 as w,a5 as _,A as h,r as d,o as q,i as C,w as v,b as I,m as O,a6 as x}from"./index-C2nmCatd.js";import{v as i}from"./validation-D2voD8Jn.js";function B({crudOptions:t}){return{crudOptions:{request:{transformQuery:({page:e,form:o,sort:n})=>{const m=n==null?{}:{orderProp:n.prop,orderAsc:n.asc};return{pageNum:e.currentPage,pageSize:e.pageSize,categoriesBo:{...o},...m}},transformRes:({res:e})=>({total:e.total,records:e.rows,...e}),pageRequest:async e=>await f("/categories/listPages",e),addRequest:async({form:e})=>await c("/categories/addOrUpdate",e),editRequest:async({form:e,row:o})=>(e.categoryId=o.categoryId,await c("/categories/addOrUpdate",e)),delRequest:async({row:e})=>await g("/categories/delete",{id:e.categoryId})},pagination:{pageSize:10,pageNum:1},columns:{categoryId:{column:{show:!1},title:"分类ID",key:"category_id",type:"number",form:{show:!1},viewForm:{show:!0}},categoryName:{column:{align:"center"},title:"分类名称",type:"text",search:{show:!0},form:{show:!0,rules:i.required}},createdAt:{title:"创建时间",type:"datetime",search:{title:"创建时间",show:!0,component:{type:"datetimerange"}},form:{show:!0,value:new Date().toISOString(),component:{valueFormat:"YYYY-MM-DD HH:mm:ss"},rules:i.required}},updatedAt:{title:"更新时间",type:"date",form:{show:!1}}}}}}const S=R({name:"CategoryCrud",setup(){const{crudRef:t,crudBinding:a,crudExpose:r}=w({createCrudOptions:B}),s=x();return _(s,()=>{r.doRefresh()}),h(()=>{r.doRefresh()}),{crudBinding:a,crudRef:t}}});function k(t,a,r,s,p,l){const u=d("fs-crud"),e=d("fs-page");return q(),C(e,null,{default:v(()=>[I(u,O({ref:"crudRef"},t.crudBinding),null,16)]),_:1})}const N=y(S,[["render",k]]);export{N as default};
