/* empty css                  */import{_ as y,f as h,g as d,u as w,h as b,o as f,c as S,b as o,w as s,i as k,j as E,k as V,m as C,t as B,E as F,l as I,q as R,s as L,v as N,p as $,e as z,a as T,x as U}from"./index-C2nmCatd.js";import{v as g}from"./validation-D2voD8Jn.js";const q=h({name:"Login",setup(){const e=d(!1),a=w(),u=d(),n=b({username:"admin",password:"123456"}),c={username:g.usernameRule(),password:g.passwordRule()},p={labelCol:{span:0},wrapperCol:{span:24}},i=async l=>{console.log(l,n),e.value=!0;try{await a.login(B(n))}finally{e.value=!1}},r=l=>{console.log(l)},t=d();return{loading:e,formState:n,formRef:u,rules:c,layout:p,handleFinish:i,handleFinishFailed:r,isLoginError:t}}}),A=e=>($("data-v-108ce1c1"),e=e(),z(),e),j={class:"main vintage-login"},P=A(()=>T("h1",{class:"login-title"},"登录",-1));function D(e,a,u,n,c,p){const i=U,r=F,t=I,l=R,_=L,v=N;return f(),S("div",j,[o(v,C({ref:"formRef",class:"test-layout-login",name:"custom-validation",model:e.formState,rules:e.rules},e.layout),{default:s(()=>[o(l,{"active-key":e.formState.loginType,"tab-bar-style":{textAlign:"center",borderBottom:"unset"}},{default:s(()=>[P,e.isLoginError?(f(),k(i,{key:0,type:"error","show-icon":"",style:{"margin-bottom":"24px"},message:"用户名或密码错误"})):E("",!0),o(t,{required:"","has-feedback":"",name:"username"},{default:s(()=>[o(r,{modelValue:e.formState.username,"onUpdate:modelValue":a[0]||(a[0]=m=>e.formState.username=m),placeholder:"用户名",size:"large",autocomplete:"off",class:"vintage-input"},null,8,["modelValue"])]),_:1}),o(t,{"has-feedback":"",name:"password"},{default:s(()=>[o(r,{modelValue:e.formState.password,"onUpdate:modelValue":a[1]||(a[1]=m=>e.formState.password=m),type:"password",placeholder:"密码",size:"large",autocomplete:"off",class:"vintage-input"},null,8,["modelValue"])]),_:1})]),_:1},8,["active-key"]),o(t,null,{default:s(()=>[o(_,{type:"primary",size:"large",loading:e.loading,class:"vintage-button",onClick:e.handleFinish},{default:s(()=>[V(" 登录 ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1},16,["model","rules"])])}const K=y(q,[["render",D],["__scopeId","data-v-108ce1c1"]]);export{K as default};
