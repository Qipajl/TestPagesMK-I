import{_ as v,g as r,o as c,c as u,a8 as h,a9 as m,a as s,aa as f,j as d,O as y,ab as I,p as g,e as k}from"./index-C2nmCatd.js";const p=o=>(g("data-v-c82ab9d0"),o=o(),k(),o),w={class:"ai-chat"},x=p(()=>s("h1",null,"AI 问答",-1)),S={key:0},A={key:1},b=p(()=>s("h3",null,"AI 的回答：",-1)),B={__name:"ai",setup(o){const e=r(""),a=r(null),l=r(!1),i=async()=>{if(!e.value){alert("请输入问题");return}const n=localStorage.getItem(e.value);if(n){a.value=n;return}l.value=!0;try{const t=await I.get("/ask-ai",{params:{question:e.value},withCredentials:!0});a.value=t.data.result,localStorage.setItem(e.value,a.value)}catch(t){console.error("请求出错",t),a.value="出错了，请稍后再试！"}finally{l.value=!1}};return(n,t)=>(c(),u("div",w,[x,h(s("input",{"onUpdate:modelValue":t[0]||(t[0]=_=>e.value=_),type:"text",placeholder:"请输入问题",onKeyup:f(i,["enter"])},null,544),[[m,e.value]]),s("button",{onClick:i},"提问"),l.value?(c(),u("div",S,"正在向 AI 询问...")):d("",!0),a.value?(c(),u("div",A,[b,s("p",null,y(a.value),1)])):d("",!0)]))}},V=v(B,[["__scopeId","data-v-c82ab9d0"]]);export{V as default};
