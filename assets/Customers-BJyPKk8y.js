import{a0 as f,a3 as c,a1 as R,_ as g,f as h,a4 as q,A as y,r as d,o as _,i as w,w as x,b as C,m as v}from"./index-C2nmCatd.js";import{v as t}from"./validation-D2voD8Jn.js";function I({crudOptions:s}){return{crudOptions:{request:{transformQuery:({page:e,form:a,sort:n})=>{const p=n==null?{}:{orderProp:n.prop,orderAsc:n.asc};return{pageNum:e.currentPage,pageSize:e.pageSize,customersBo:{...a},...p}},transformRes:({res:e})=>({total:e.total,records:e.rows}),pageRequest:async e=>await f("/customers/listPages",e),addRequest:async({form:e})=>await c("/customers/addOrUpdate",e),editRequest:async({form:e,row:a})=>(e.customerId=a.customerId,await c("/customers/addOrUpdate",e)),delRequest:async({row:e})=>(console.log("delRequest",e),await R("/customers/delete",{id:e.customerId}))},pagination:{pageSize:10,pageNum:1},columns:{customerId:{column:{show:!1},title:"部门ID",key:"customer_id",type:"number",form:{show:!1},viewForm:{show:!0}},customerName:{column:{minWidth:45,align:"center"},title:"部门名称",type:"text",search:{show:!0},form:{rules:t.required}},contactPerson:{column:{minWidth:30},title:"负责人",type:"text",form:{rules:t.required}},phone:{column:{minWidth:45},title:"电话",type:"text",form:{rules:t.phoneRule(!1)}},email:{column:{minWidth:100},title:"邮箱",type:"text",form:{rules:t.emailRule(!1)}},address:{title:"部门地址",type:"text",form:{rules:t.addressRule(!1)}},createdAt:{title:"创建时间",type:"date",search:{title:"时间",show:!0,component:{type:"datetimerange"}},form:{show:!0,component:{valueFormat:"YYYY-MM-DD"},rules:t.required,value:new Date().toISOString()}},updatedAt:{title:"更新时间",type:"date",form:{show:!1}}}}}}const O=h({name:"CustomerCrud",setup(){const{crudRef:s,crudBinding:r,crudExpose:o}=q({createCrudOptions:I});return y(()=>{o.doRefresh()}),{crudBinding:r,crudRef:s}}});function B(s,r,o,l,i,m){const u=d("fs-crud"),e=d("fs-page");return _(),w(e,null,{default:x(()=>[C(u,v({ref:"crudRef"},s.crudBinding),null,16)]),_:1})}const k=g(O,[["render",B]]);export{k as default};
